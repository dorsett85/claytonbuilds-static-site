---
import { Image } from 'astro:assets';
import LinkedInIcon from './icons/LinkedInIcon.astro';
import GitHubIcon from './icons/GitHubIcon.astro';
import InstagramIcon from './icons/InstagramIcon.astro';

// Import project images
import checkMateImg from '../assets/projects-check-mate.png';
import quickmodelImg from '../assets/projects-quickmodel.png';
import teamSweeperImg from '../assets/projects-team-sweeper.png';
import tripBuddyImg from '../assets/projects-trip-buddy.png';
import workoutTrackerImg from '../assets/projects-workout-tracker.png';

const year = new Date().getFullYear();

// Project data
const projects = [
	{
		title: "Check Mate",
		description: "Blazing fast AI powered bill splitting with OCR and private link sharing.",
		image: checkMateImg,
		alt: "Check Mate chess application screenshot",
		href: "https://check-mate.cphillipsdorsett.com/"
	},
	{
		title: "QuickModel",
		description: "Rapid prototyping tool for creating and visualizing data models.",
		image: quickmodelImg,
		alt: "QuickModel application screenshot",
		href: "https://quickmodel.cphillipsdorsett.com/"
	},
	{
		title: "Team Sweeper",
		description: "A modern take on an all-time favorite complete with performance statistics.",
		image: teamSweeperImg,
		alt: "Team Sweeper application screenshot",
		href: "https://team-sweeper.cphillipsdorsett.com/"
	},
	{
		title: "Trip Buddy",
		description: "Travel planning companion for organizing trips and sharing itineraries.",
		image: tripBuddyImg,
		alt: "Trip Buddy application screenshot",
		href: "https://trip-buddy.cphillipsdorsett.com/"
	},
	{
		title: "Workout Tracker",
		description: "Fitness tracking application for logging workouts and monitoring progress.",
		image: workoutTrackerImg,
		alt: "Workout Tracker application screenshot",
		href: "https://workout-tracker.cphillipsdorsett.com/"
	}
];
---

<!-- Header with a collapsible menu -->
<header class="sticky top-0 z-50 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 shadow-sm">
	<nav class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
		<div class="flex h-16 items-center justify-between">
			<!-- Logo/Brand -->
			<div class="flex-shrink-0">
				<span class="text-xl font-bold text-gray-900 dark:text-white">Clayton Builds</span>
			</div>

			<!-- Desktop Navigation -->
			<div class="hidden md:flex md:gap-x-8">
				<a href="#projects" class="text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors">Projects</a>
				<a href="#about" class="text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors">About</a>
				<a href="#contact" class="text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors">Contact</a>
			</div>

			<div class="flex items-center gap-2">
				<!-- Dark Mode Toggle -->
				<button id="theme-toggle" type="button" class="p-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors">
					<svg id="theme-toggle-dark-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
						<path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
					</svg>
					<svg id="theme-toggle-light-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
						<path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" fill-rule="evenodd" clip-rule="evenodd"></path>
					</svg>
				</button>

				<!-- Mobile menu button -->
				<button id="mobile-menu-btn" type="button" class="md:hidden p-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors">
					<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
					</svg>
				</button>
			</div>
		</div>

		<!-- Mobile Navigation (collapsible) -->
		<div class="md:hidden max-h-0 overflow-hidden transition-all duration-300 ease-in-out" id="mobile-menu-container">
			<div class="space-y-1 pb-3 pt-2">
				<a href="#projects" target="_blank" rel="noopener noreferrer" class="block px-3 py-2 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors">Projects</a>
				<a href="#about" target="_blank" rel="noopener noreferrer" class="block px-3 py-2 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors">About</a>
				<a href="#contact" target="_blank" rel="noopener noreferrer" class="block px-3 py-2 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors">Contact</a>
			</div>
		</div>
	</nav>
</header>

<!-- Main Content -->
<main class="min-h-screen">
	<!-- Hero Section -->
	<section id="hero" class="px-4 sm:px-6 lg:px-8 py-20 sm:py-32">
		<div class="mx-auto max-w-4xl text-center">
			<h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold tracking-tight text-gray-900 dark:text-white mb-6">
				Welcome!
			</h1>
			<h2 class="text-xl sm:text-2xl lg:text-3xl text-gray-700 dark:text-gray-300 mb-6">
				I'm Clayton Phillips-Dorsett, Software Developer/Architect
			</h2>
			<p class="text-lg text-gray-700 dark:text-gray-300 mb-12">
				I specialize in full-stack development with extensive experience
				designing, architecting, and deploying enterprise level software.
				Check out my CV below for more detailed experience and don't
				hesitate to connect.
			</p>
			<div class="flex flex-wrap justify-center gap-4">
				<a href="https://www.linkedin.com/in/clayton-phillips-dorsett-7875b9164/" class="inline-flex items-center justify-center p-3 text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors" aria-label="LinkedIn">
					<LinkedInIcon />
				</a>
				<a href="https://github.com/dorsett85" class="inline-flex items-center justify-center p-3 text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors" aria-label="GitHub">
					<GitHubIcon />
				</a>
				<a href="https://www.instagram.com/dorsett85" class="inline-flex items-center justify-center p-3 text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors" aria-label="Instagram">
					<InstagramIcon />
				</a>
				<a href="https://docs.google.com/document/d/1THmGxKeZnRVv0OjqgXTP3JBlfv7JWsUpqVwuyg14dEc/export?format=pdf" class="px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors shadow-lg hover:shadow-xl">
					CV
				</a>
			</div>
		</div>
	</section>

	<!-- Projects Section -->
	<section id="projects" class="px-4 sm:px-6 lg:px-8 py-16 sm:py-24 bg-gray-50 dark:bg-gray-800">
		<div class="mx-auto max-w-7xl">
			<h2 class="text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white mb-12">Projects</h2>

			<!-- Project Cards Grid -->
			<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8">
				{projects.map((project) => (
					<a
						href={project.href}
						target="_blank"
						rel="noopener noreferrer"
						class="group bg-white dark:bg-gray-900 rounded-lg overflow-hidden shadow-md hover:shadow-2xl transition-all duration-300 block"
					>
						<!-- Project Image -->
						<div class="aspect-video overflow-hidden bg-gray-200 dark:bg-gray-800">
							<Image
								src={project.image}
								alt={project.alt}
								class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
								widths={[400, 600, 800]}
								sizes="(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 33vw"
							/>
						</div>

						<!-- Project Content -->
						<div class="p-6">
							<h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors">
								{project.title}
							</h3>
							<p class="text-gray-600 dark:text-gray-400 leading-relaxed">
								{project.description}
							</p>
						</div>
					</a>
				))}
			</div>
		</div>
	</section>

	<!-- About Section -->
	<section id="about" class="px-4 sm:px-6 lg:px-8 py-16 sm:py-24">
		<div class="mx-auto max-w-4xl">
			<h2 class="text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white mb-6">About me</h2>
			<p class="text-lg text-gray-700 dark:text-gray-300 leading-relaxed">
				I grew up in beautiful southern Vermont and continue to enjoy all
				things active and outdoors. When I'm not developing you can find me
				on a mountain climbing or snowboarding.
			</p>
			<div class="mt-8"><!-- TODO this will shows images, perhaps in a carousel --></div>
		</div>
	</section>

	<!-- Contact Section -->
	<section id="contact" class="px-4 sm:px-6 lg:px-8 py-16 sm:py-24 bg-gray-50 dark:bg-gray-800">
		<div class="mx-auto max-w-4xl text-center">
			<h2 class="text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white mb-6">Let's collaborate, feel free to reach out</h2>
			<p class="text-xl text-blue-600 dark:text-blue-400 hover:underline">
				<a href="mailto:claytonphillipsdorsett@gmail.com">claytonphillipsdorsett@gmail.com</a>
			</p>
		</div>
	</section>
</main>

<!-- Footer -->
<footer class="bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800">
	<div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8">
		<div class="flex flex-col sm:flex-row items-center justify-between gap-4">
			<p class="text-sm text-gray-600 dark:text-gray-400">Â© {year} Clayton Phillips-Dorsett. All rights reserved.</p>
			<div class="flex gap-6">
				<a href="https://www.linkedin.com/in/clayton-phillips-dorsett-7875b9164/" target="_blank" rel="noopener noreferrer" class="text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors" aria-label="LinkedIn">
					<LinkedInIcon />
				</a>
				<a href="https://github.com/dorsett85" target="_blank" rel="noopener noreferrer" class="text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors" aria-label="GitHub">
					<GitHubIcon />
				</a>
				<a href="https://www.instagram.com/dorsett85" target="_blank" rel="noopener noreferrer" class="text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors" aria-label="Instagram">
					<InstagramIcon />
				</a>
			</div>
		</div>
	</div>
</footer>

<script>
	// Dark mode toggle functionality
	const themeToggleBtn = document.getElementById('theme-toggle');
	const themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
	const themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');

	// Show the correct icon based on current theme
	if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
		themeToggleLightIcon?.classList.remove('hidden');
	} else {
		themeToggleDarkIcon?.classList.remove('hidden');
	}

	themeToggleBtn?.addEventListener('click', function() {
		// Toggle icons
		themeToggleDarkIcon?.classList.toggle('hidden');
		themeToggleLightIcon?.classList.toggle('hidden');

		// Toggle theme
		if (document.documentElement.classList.contains('dark')) {
			document.documentElement.classList.remove('dark');
			localStorage.theme = 'light';
		} else {
			document.documentElement.classList.add('dark');
			localStorage.theme = 'dark';
		}
	});

	// Mobile menu toggle functionality
	const mobileMenuBtn = document.getElementById('mobile-menu-btn');
	const mobileMenuContainer = document.getElementById('mobile-menu-container');
	let isMenuOpen = false;

	mobileMenuBtn?.addEventListener('click', function() {
		isMenuOpen = !isMenuOpen;
		if (isMenuOpen) {
			mobileMenuContainer?.classList.remove('max-h-0');
			mobileMenuContainer?.classList.add('max-h-48');
		} else {
			mobileMenuContainer?.classList.remove('max-h-48');
			mobileMenuContainer?.classList.add('max-h-0');
		}
	});

	// Close mobile menu when clicking on a link
	document.querySelectorAll('#mobile-menu-container a').forEach(link => {
		link.addEventListener('click', () => {
			isMenuOpen = false;
			mobileMenuContainer?.classList.remove('max-h-48');
			mobileMenuContainer?.classList.add('max-h-0');
		});
	});
</script>

